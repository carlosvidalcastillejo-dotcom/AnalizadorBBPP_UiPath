{
  "metadata": {
    "name": "Reglas Base BBPP",
    "description": "Catálogo unificado de todas las reglas de buenas prácticas",
    "version": "2.3.0",
    "author": "Carlos Vidal Castillejo",
    "company": "Your Company",
    "created": "2025-11-22",
    "last_updated": "2025-11-29",
    "changelog": "v2.3.0: Sistema de excepciones para reglas de nomenclatura (REFramework)"
  },
  "sets": {
    "UiPath": {
      "name": "Buenas Prácticas UiPath",
      "description": "Reglas oficiales de UiPath",
      "enabled": true,
      "dependencies": {
        "UiPath.Excel.Activities": "4.4.2",
        "UiPath.System.Activities": "24.10.2",
        "UiPath.Testing.Activities": "24.10.4",
        "UiPath.UIAutomation.Activities": "25.12.10",
        "UiPath.TestingApp.Activities": "25.12.10"
      }
    },
    "NTTData": {
      "name": "Buenas Prácticas NTT Data",
      "description": "Estándares personalizados de NTT Data",
      "enabled": true,
      "dependencies": {}
    }
  },
  "rules": [
    {
      "id": "NOMENCLATURA_001",
      "name": "Variables en camelCase",
      "description": "Las variables deben seguir el patrón camelCase (primera letra minúscula, resto PascalCase)",
      "category": "nomenclatura",
      "severity": "warning",
      "penalty": 0.0,
      "enabled": false,
      "sets": [
        "UiPath",
        "NTTData"
      ],
      "implementation_status": "implemented",
      "rule_type": "variable_naming",
      "parameters": {
        "allow_type_prefixes": true,
        "type_prefixes": [],
        "exceptions": [
          "Config",
          "TransactionItem",
          "TransactionData",
          "TransactionNumber",
          "TransactionField1",
          "TransactionField2",
          "TransactionID",
          "RetryNumber",
          "SystemException",
          "BusinessException",
          "QueueRetry",
          "ConsecutiveSystemExceptions",
          "ConfigFile",
          "ConfigSheets",
          "Folder",
          "OrchestratorQueueFolder",
          "OrchestratorQueueName",
          "FilePath",
          "in_Config",
          "in_TransactionItem",
          "in_TransactionData",
          "in_TransactionNumber",
          "in_TransactionField1",
          "in_TransactionField2",
          "in_TransactionID",
          "in_SystemException",
          "in_BusinessException",
          "in_QueueRetry",
          "in_ConfigFile",
          "in_ConfigSheets",
          "in_Folder",
          "in_OrchestratorQueueFolder",
          "in_OrchestratorQueueName",
          "out_Config",
          "out_TransactionItem",
          "out_TransactionData",
          "out_TransactionNumber",
          "out_TransactionField1",
          "out_TransactionField2",
          "out_TransactionID",
          "io_TransactionItem",
          "io_TransactionData",
          "io_TransactionNumber",
          "io_RetryNumber",
          "io_SystemException",
          "io_BusinessException",
          "io_QueueRetry",
          "io_ConsecutiveSystemExceptions",
          "io_FilePath",
          "io_dt_TransactionData"
        ],
        "penalty_mode": "global",
        "penalty_value": 0.0,
        "use_penalty_cap": false,
        "penalty_cap": 10.0
      }
    },
    {
      "id": "NOMENCLATURA_002",
      "name": "Evitar nombres genéricos",
      "description": "Evitar nombres de variables genéricos que no indican su propósito (var, temp, data, etc.)",
      "category": "nomenclatura",
      "severity": "warning",
      "penalty": 0.0,
      "enabled": true,
      "sets": [
        "UiPath",
        "NTTData"
      ],
      "implementation_status": "implemented",
      "rule_type": "generic_names",
      "parameters": {
        "forbidden_names": [
          "var",
          "variable",
          "temp",
          "test",
          "data",
          "value",
          "result",
          "output",
          "input",
          "item",
          "str",
          "int",
          "obj"
        ],
        "generic_patterns": [
          "^var[_]?\\d+$",
          "^variable[_]?\\d+$",
          "^temp[_]?\\d+$",
          "^test[_]?\\d+$",
          "^data[_]?\\d+$",
          "^value[_]?\\d+$",
          "^result[_]?\\d+$",
          "^output[_]?\\d+$",
          "^input[_]?\\d+$",
          "^item[_]?\\d+$",
          "^str[_]?\\d+$",
          "^int[_]?\\d+$",
          "^obj[_]?\\d+$"
        ],
        "exceptions": [
          "Config",
          "TransactionItem",
          "TransactionData",
          "TransactionNumber",
          "TransactionField1",
          "TransactionField2",
          "TransactionID",
          "RetryNumber",
          "SystemException",
          "BusinessException",
          "QueueRetry",
          "ConsecutiveSystemExceptions",
          "ConfigFile",
          "ConfigSheets",
          "Folder",
          "OrchestratorQueueFolder",
          "OrchestratorQueueName",
          "FilePath",
          "in_Config",
          "in_TransactionItem",
          "in_TransactionData",
          "in_TransactionNumber",
          "in_TransactionField1",
          "in_TransactionField2",
          "in_TransactionID",
          "in_SystemException",
          "in_BusinessException",
          "in_QueueRetry",
          "in_ConfigFile",
          "in_ConfigSheets",
          "in_Folder",
          "in_OrchestratorQueueFolder",
          "in_OrchestratorQueueName",
          "out_Config",
          "out_TransactionItem",
          "out_TransactionData",
          "out_TransactionNumber",
          "out_TransactionField1",
          "out_TransactionField2",
          "out_TransactionID",
          "io_TransactionItem",
          "io_TransactionData",
          "io_TransactionNumber",
          "io_RetryNumber",
          "io_SystemException",
          "io_BusinessException",
          "io_QueueRetry",
          "io_ConsecutiveSystemExceptions",
          "io_FilePath",
          "io_dt_TransactionData"
        ],
        "penalty_mode": "global",
        "penalty_value": 0.0,
        "use_penalty_cap": false,
        "penalty_cap": 10.0
      }
    },
    {
      "id": "NOMENCLATURA_003",
      "name": "Argumentos con prefijos",
      "description": "Los argumentos deben tener prefijos según su dirección (in_, out_, io_) y seguir el formato especificado después del prefijo",
      "category": "nomenclatura",
      "severity": "warning",
      "penalty": 0.0,
      "enabled": true,
      "sets": [
        "UiPath",
        "NTTData"
      ],
      "implementation_status": "implemented",
      "rule_type": "argument_prefixes",
      "parameters": {
        "check_prefixes": true,
        "prefix_in": "in_",
        "prefix_out": "out_",
        "prefix_inout": "io_",
        "validate_format_after_prefix": true,
        "format_after_prefix": "camelCase",
        "allow_type_prefixes": true,
        "type_prefixes": [],
        "exceptions": [
          "Config",
          "TransactionItem",
          "TransactionData",
          "TransactionNumber",
          "TransactionField1",
          "TransactionField2",
          "TransactionID",
          "RetryNumber",
          "SystemException",
          "BusinessException",
          "QueueRetry",
          "ConsecutiveSystemExceptions",
          "ConfigFile",
          "ConfigSheets",
          "Folder",
          "OrchestratorQueueFolder",
          "OrchestratorQueueName",
          "FilePath",
          "in_Config",
          "in_TransactionItem",
          "in_TransactionData",
          "in_TransactionNumber",
          "in_TransactionField1",
          "in_TransactionField2",
          "in_TransactionID",
          "in_SystemException",
          "in_BusinessException",
          "in_QueueRetry",
          "in_ConfigFile",
          "in_ConfigSheets",
          "in_Folder",
          "in_OrchestratorQueueFolder",
          "in_OrchestratorQueueName",
          "out_Config",
          "out_TransactionItem",
          "out_TransactionData",
          "out_TransactionNumber",
          "out_TransactionField1",
          "out_TransactionField2",
          "out_TransactionID",
          "io_TransactionItem",
          "io_TransactionData",
          "io_TransactionNumber",
          "io_RetryNumber",
          "io_SystemException",
          "io_BusinessException",
          "io_QueueRetry",
          "io_ConsecutiveSystemExceptions",
          "io_FilePath",
          "io_dt_TransactionData"
        ],
        "penalty_mode": "global",
        "penalty_value": 0.0,
        "use_penalty_cap": false,
        "penalty_cap": 10.0
      }
    },
    {
      "id": "NOMENCLATURA_004",
      "name": "Argumentos con descripción",
      "description": "Todos los argumentos deben tener una descripción clara",
      "category": "nomenclatura",
      "severity": "info",
      "penalty": 0.0,
      "enabled": true,
      "sets": [
        "UiPath"
      ],
      "implementation_status": "implemented",
      "rule_type": "argument_description",
      "parameters": {
        "require_description": true,
        "min_description_length": 5,
        "exceptions": [
          "Config",
          "TransactionItem",
          "TransactionData",
          "TransactionNumber",
          "TransactionField1",
          "TransactionField2",
          "TransactionID",
          "RetryNumber",
          "SystemException",
          "BusinessException",
          "QueueRetry",
          "ConsecutiveSystemExceptions",
          "ConfigFile",
          "ConfigSheets",
          "Folder",
          "OrchestratorQueueFolder",
          "OrchestratorQueueName",
          "FilePath",
          "in_Config",
          "in_TransactionItem",
          "in_TransactionData",
          "in_TransactionNumber",
          "in_TransactionField1",
          "in_TransactionField2",
          "in_TransactionID",
          "in_SystemException",
          "in_BusinessException",
          "in_QueueRetry",
          "in_ConfigFile",
          "in_ConfigSheets",
          "in_Folder",
          "in_OrchestratorQueueFolder",
          "in_OrchestratorQueueName",
          "out_Config",
          "out_TransactionItem",
          "out_TransactionData",
          "out_TransactionNumber",
          "out_TransactionField1",
          "out_TransactionField2",
          "out_TransactionID",
          "io_TransactionItem",
          "io_TransactionData",
          "io_TransactionNumber",
          "io_RetryNumber",
          "io_SystemException",
          "io_BusinessException",
          "io_QueueRetry",
          "io_ConsecutiveSystemExceptions",
          "io_FilePath",
          "io_dt_TransactionData"
        ],
        "penalty_mode": "global",
        "penalty_value": 0.0,
        "use_penalty_cap": false,
        "penalty_cap": 10.0
      }
    },
    {
      "id": "NOMENCLATURA_005",
      "name": "Variables en PascalCase",
      "description": "Las variables deben seguir el patrón PascalCase (primera letra mayúscula, cada palabra inicia con mayúscula)",
      "category": "nomenclatura",
      "severity": "warning",
      "penalty": 0.0,
      "enabled": true,
      "sets": [
        "UiPath",
        "NTTData"
      ],
      "implementation_status": "implemented",
      "rule_type": "variable_naming_pascal",
      "parameters": {
        "allow_type_prefixes": true,
        "type_prefixes": [],
        "exceptions": [
          "Config",
          "TransactionItem",
          "TransactionData",
          "TransactionNumber",
          "TransactionField1",
          "TransactionField2",
          "TransactionID",
          "RetryNumber",
          "SystemException",
          "BusinessException",
          "QueueRetry",
          "ConsecutiveSystemExceptions",
          "ConfigFile",
          "ConfigSheets",
          "Folder",
          "OrchestratorQueueFolder",
          "OrchestratorQueueName",
          "FilePath",
          "in_Config",
          "in_TransactionItem",
          "in_TransactionData",
          "in_TransactionNumber",
          "in_TransactionField1",
          "in_TransactionField2",
          "in_TransactionID",
          "in_SystemException",
          "in_BusinessException",
          "in_QueueRetry",
          "in_ConfigFile",
          "in_ConfigSheets",
          "in_Folder",
          "in_OrchestratorQueueFolder",
          "in_OrchestratorQueueName",
          "out_Config",
          "out_TransactionItem",
          "out_TransactionData",
          "out_TransactionNumber",
          "out_TransactionField1",
          "out_TransactionField2",
          "out_TransactionID",
          "io_TransactionItem",
          "io_TransactionData",
          "io_TransactionNumber",
          "io_RetryNumber",
          "io_SystemException",
          "io_BusinessException",
          "io_QueueRetry",
          "io_ConsecutiveSystemExceptions",
          "io_FilePath",
          "io_dt_TransactionData"
        ],
        "penalty_mode": "global",
        "penalty_value": 0.0,
        "use_penalty_cap": false,
        "penalty_cap": 10.0
      }
    },
    {
      "id": "ESTRUCTURA_001",
      "name": "IFs anidados excesivos",
      "description": "Evitar más de 3 niveles de anidamiento de IFs (configurable)",
      "category": "estructura",
      "severity": "warning",
      "penalty": 0.0,
      "enabled": true,
      "sets": [
        "UiPath",
        "NTTData"
      ],
      "implementation_status": "implemented",
      "rule_type": "nested_ifs",
      "old_id": "ANIDAMIENTO_001",
      "parameters": {
        "max_nested_levels": {
          "type": "number",
          "value": 3,
          "min": 1,
          "max": 10,
          "description": "Máximo número de niveles de anidamiento permitidos"
        },
        "penalty_mode": "global",
        "penalty_value": 0.0,
        "use_penalty_cap": false,
        "penalty_cap": 10.0
      }
    },
    {
      "id": "ESTRUCTURA_002",
      "name": "Try-Catch vacíos",
      "description": "Los bloques Try-Catch no deben estar vacíos",
      "category": "estructura",
      "severity": "info",
      "penalty": 0.0,
      "enabled": true,
      "sets": [
        "UiPath",
        "NTTData"
      ],
      "implementation_status": "implemented",
      "rule_type": "empty_catch",
      "old_id": "TRY_CATCH_001",
      "parameters": {
        "penalty_mode": "global",
        "penalty_value": 0.0,
        "use_penalty_cap": false,
        "penalty_cap": 10.0
      }
    },
    {
      "id": "ESTRUCTURA_003",
      "name": "Actividades críticas en Try-Catch",
      "description": "Todas las actividades críticas deben estar dentro de Try-Catch",
      "category": "estructura",
      "severity": "error",
      "penalty": 0.0,
      "enabled": true,
      "sets": [
        "UiPath",
        "NTTData"
      ],
      "implementation_status": "implemented",
      "rule_type": "critical_in_try_catch",
      "old_id": "EXCEL_002",
      "parameters": {
        "critical_activities": [
          "InvokeWorkflowFile",
          "InvokeMethod",
          "InvokeCode",
          "ReadRange",
          "WriteRange",
          "OpenBrowser",
          "Click",
          "TypeInto",
          "GetText",
          "Attach",
          "AttachWindow"
        ],
        "penalty_mode": "global",
        "penalty_value": 0.0,
        "use_penalty_cap": false,
        "penalty_cap": 10.0
      }
    },
    {
      "id": "MODULARIZACION_001",
      "name": "Sequences muy largos",
      "description": "Los Sequences no deben tener más de N actividades (configurable, default: 20). Cuenta recursivamente hasta encontrar Invoke.",
      "category": "modularizacion",
      "severity": "info",
      "penalty": 0.0,
      "enabled": true,
      "sets": [
        "UiPath",
        "NTTData"
      ],
      "implementation_status": "implemented",
      "rule_type": "long_sequence",
      "parameters": {
        "max_activities": {
          "type": "number",
          "value": 20,
          "min": 5,
          "max": 200,
          "description": "Máximo número de actividades permitidas en un Sequence (cuenta recursivamente)"
        },
        "penalty_mode": "global",
        "penalty_value": 0.0,
        "use_penalty_cap": false,
        "penalty_cap": 10.0
      }
    },
    {
      "id": "MODULARIZACION_002",
      "name": "Uso de Invoke Workflow",
      "description": "Sugerencia: Modularizar workflows largos usando Invoke Workflow File. Por defecto: workflows >50 actividades sin Invoke.",
      "category": "modularizacion",
      "severity": "info",
      "penalty": 0,
      "enabled": true,
      "sets": [
        "UiPath",
        "NTTData"
      ],
      "implementation_status": "implemented",
      "rule_type": "invoke_workflow_usage",
      "old_id": "EXCEL_006",
      "parameters": {
        "min_activities_for_modularization": {
          "type": "number",
          "value": 50,
          "min": 10,
          "max": 200,
          "description": "Mínimo de actividades para sugerir modularización"
        },
        "penalty_mode": "total",
        "penalty_value": 0,
        "use_penalty_cap": false,
        "penalty_cap": 10
      }
    },
    {
      "id": "MODULARIZACION_003",
      "name": "Patrón Init/End en State Machines",
      "description": "Las State Machines deben tener estados Init (primero) y End (último)",
      "category": "modularizacion",
      "severity": "warning",
      "penalty": 0.0,
      "enabled": true,
      "sets": [
        "UiPath",
        "NTTData"
      ],
      "implementation_status": "implemented",
      "rule_type": "init_end_pattern",
      "old_id": "STATE_MACHINE_001",
      "parameters": {
        "penalty_mode": "global",
        "penalty_value": 0.0,
        "use_penalty_cap": false,
        "penalty_cap": 10.0
      }
    },
    {
      "id": "CODIGO_001",
      "name": "Código comentado excesivo",
      "description": "No debe haber más del 5% de código comentado (CommentOut)",
      "category": "codigo_limpio",
      "severity": "warning",
      "penalty": 0.0,
      "enabled": true,
      "sets": [
        "UiPath",
        "NTTData"
      ],
      "implementation_status": "implemented",
      "rule_type": "commented_code",
      "old_id": "COMENTARIOS_001",
      "parameters": {
        "max_percentage": {
          "type": "number",
          "value": 5,
          "min": 0,
          "max": 50,
          "description": "Porcentaje máximo de código comentado permitido"
        },
        "penalty_mode": "global",
        "penalty_value": 0.0,
        "use_penalty_cap": false,
        "penalty_cap": 10.0
      }
    },
    {
      "id": "LOGGING_001",
      "name": "Logging insuficiente",
      "description": "Debe haber al menos 1 LogMessage cada N actividades (configurable). Por defecto: 10 actividades por log.",
      "category": "logging",
      "severity": "info",
      "penalty": 0.0,
      "enabled": true,
      "sets": [
        "UiPath",
        "NTTData"
      ],
      "implementation_status": "implemented",
      "rule_type": "insufficient_logging",
      "old_id": "LOGS_001",
      "parameters": {
        "max_activities_per_log": {
          "type": "number",
          "value": 10,
          "min": 1,
          "max": 50,
          "description": "Máximo número de actividades permitidas por cada LogMessage"
        },
        "penalty_mode": "global",
        "penalty_value": 0.0,
        "use_penalty_cap": false,
        "penalty_cap": 10.0
      }
    },
    {
      "id": "LOGGING_002",
      "name": "Logging en inicio y fin",
      "description": "Usar Log Message al inicio y fin de workflows principales. Por defecto: primeras/últimas 5 actividades.",
      "category": "logging",
      "severity": "info",
      "penalty": 0.0,
      "enabled": true,
      "sets": [
        "UiPath",
        "NTTData"
      ],
      "implementation_status": "implemented",
      "rule_type": "adequate_logging",
      "old_id": "EXCEL_009",
      "parameters": {
        "check_start_activities": {
          "type": "number",
          "value": 5,
          "min": 1,
          "max": 20,
          "description": "Número de actividades iniciales donde debe haber al menos un LogMessage"
        },
        "check_end_activities": {
          "type": "number",
          "value": 5,
          "min": 1,
          "max": 20,
          "description": "Número de actividades finales donde debe haber al menos un LogMessage"
        },
        "penalty_mode": "global",
        "penalty_value": 0.0,
        "use_penalty_cap": false,
        "penalty_cap": 10.0
      }
    },
    {
      "id": "CONFIGURACION_001",
      "name": "Uso de Orchestrator Assets",
      "description": "Usar Assets para credenciales y configuración en lugar de valores hardcodeados",
      "category": "configuracion",
      "severity": "error",
      "penalty": 0.0,
      "enabled": true,
      "sets": [
        "UiPath",
        "NTTData"
      ],
      "implementation_status": "implemented",
      "rule_type": "orchestrator_assets",
      "old_id": "EXCEL_003",
      "parameters": {
        "penalty_mode": "severity_default",
        "penalty_value": 0.0,
        "use_penalty_cap": false,
        "penalty_cap": 10.0
      }
    },
    {
      "id": "RENDIMIENTO_001",
      "name": "Timeouts explícitos",
      "description": "No usar timeouts por defecto (30000ms) en actividades críticas. Penalización configurable: Total (fija) o Individual (x casos encontrados).",
      "category": "rendimiento",
      "severity": "info",
      "penalty": 0.0,
      "enabled": true,
      "sets": [
        "UiPath",
        "NTTData"
      ],
      "implementation_status": "implemented",
      "rule_type": "explicit_timeouts",
      "old_id": "EXCEL_007",
      "parameters": {
        "default_timeout_ms": {
          "type": "number",
          "value": 30000,
          "min": 1000,
          "max": 300000,
          "description": "Timeout por defecto de UiPath en milisegundos"
        },
        "timeout_required_activities": [
          "Click",
          "TypeInto",
          "GetText",
          "ElementExists",
          "Find",
          "Attach",
          "AttachWindow"
        ],
        "penalty_mode": "global",
        "penalty_value": 0.0,
        "use_penalty_cap": false,
        "penalty_cap": 10.0
      }
    },
    {
      "id": "SELECTORES_001",
      "name": "Selectores estables",
      "description": "Evitar selectores con índices (idx) o atributos volátiles",
      "category": "selectores",
      "severity": "warning",
      "penalty": 0.0,
      "enabled": true,
      "sets": [
        "UiPath",
        "NTTData"
      ],
      "implementation_status": "implemented",
      "rule_type": "stable_selectors",
      "old_id": "EXCEL_008",
      "parameters": {
        "penalty_mode": "global",
        "penalty_value": 0.0,
        "use_penalty_cap": false,
        "penalty_cap": 10.0
      }
    }
  ]
}